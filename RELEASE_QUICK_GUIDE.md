# Android å‘å¸ƒå¿«é€ŸæŒ‡å—

## ğŸš€ å¿«é€Ÿæ‰“åŒ… (æ¨è)

ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ä¸€é”®æ‰“åŒ…:

```bash
./build-release.sh
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆ:
1. âœ… æ£€æŸ¥/ç”Ÿæˆç­¾åå¯†é’¥
2. âœ… æ¸…ç†æ—§æ„å»º
3. âœ… æ£€æŸ¥ä¾èµ–
4. âœ… æ‰“åŒ… Release APK
5. âœ… æ˜¾ç¤ºæ‰“åŒ…ç»“æœ

---

## ğŸ“‹ æ‰‹åŠ¨æ‰“åŒ…æ­¥éª¤

### 1ï¸âƒ£ ç”Ÿæˆç­¾åå¯†é’¥ (ä»…ç¬¬ä¸€æ¬¡éœ€è¦)

```bash
cd android/app
keytool -genkeypair -v -storetype PKCS12 \
  -keystore ledger-release-key.keystore \
  -alias ledger-key-alias \
  -keyalg RSA -keysize 2048 \
  -validity 10000
```

**å¯†ç å»ºè®®:** `ledger2024` (æˆ–è‡ªå®šä¹‰,åŠ¡å¿…è®°ä½!)

### 2ï¸âƒ£ æ‰“åŒ… APK

```bash
# æ–¹å¼ 1: ä½¿ç”¨ npm è„šæœ¬
npm run build:android

# æ–¹å¼ 2: ä½¿ç”¨ Gradle
cd android && ./gradlew assembleRelease
```

### 3ï¸âƒ£ è·å– APK æ–‡ä»¶

æ‰“åŒ…å®Œæˆå,APK ä½ç½®:
```
android/app/build/outputs/apk/release/app-release.apk
```

---

## ğŸ“± åˆ†å‘ç»™æµ‹è¯•ç”¨æˆ·

### æ–¹å¼ 1: ç›´æ¥å‘é€ APK
- å°† `app-release.apk` é€šè¿‡å¾®ä¿¡/QQ/é‚®ä»¶å‘é€
- ç”¨æˆ·éœ€åœ¨æ‰‹æœºè®¾ç½®ä¸­å…è®¸"å®‰è£…æœªçŸ¥åº”ç”¨"

### æ–¹å¼ 2: ä½¿ç”¨å†…æµ‹å¹³å°

#### è’²å…¬è‹± (æ¨è)
1. æ³¨å†Œè´¦å·: https://www.pgyer.com/
2. ä¸Šä¼  APK
3. åˆ†äº«ä¸‹è½½é“¾æ¥ç»™æµ‹è¯•ç”¨æˆ·

#### Firebase App Distribution
1. è®¿é—®: https://firebase.google.com/
2. åˆ›å»ºé¡¹ç›®å¹¶ä¸Šä¼  APK
3. é‚€è¯·æµ‹è¯•ç”¨æˆ·

### æ–¹å¼ 3: adb å®‰è£…

```bash
# è¿æ¥æ‰‹æœºåˆ°ç”µè„‘
adb install android/app/build/outputs/apk/release/app-release.apk
```

---

## ğŸŒ ç¯å¢ƒé…ç½®

åº”ç”¨å·²é…ç½®è‡ªåŠ¨ç¯å¢ƒåˆ‡æ¢:

| æ¨¡å¼ | API åœ°å€ |
|------|----------|
| Debug (å¼€å‘) | `http://localhost:9432` |
| Release (ç”Ÿäº§) | `http://47.114.96.56:9432` |

**æ³¨æ„:** æ‰“åŒ…çš„ APK ä¼šè‡ªåŠ¨è¿æ¥åˆ°ç”Ÿäº§æœåŠ¡å™¨!

---

## ğŸ”„ ç‰ˆæœ¬æ›´æ–°

æ¯æ¬¡å‘å¸ƒæ–°ç‰ˆæœ¬æ—¶,æ›´æ–°ç‰ˆæœ¬å·:

ç¼–è¾‘ `android/app/build.gradle`:
```gradle
defaultConfig {
    versionCode 2      // æ¯æ¬¡å‘å¸ƒé€’å¢
    versionName "1.1"  // ç”¨æˆ·çœ‹åˆ°çš„ç‰ˆæœ¬å·
}
```

---

## âš™ï¸ å…¶ä»–æ‰“åŒ…å‘½ä»¤

```bash
# æ¸…ç†æ„å»º
npm run build:android:clean

# æ‰“åŒ… AAB (Google Play)
npm run build:android:bundle

# æ¸…ç† Metro ç¼“å­˜
npm start -- --reset-cache
```

---

## â“ å¸¸è§é—®é¢˜

### Q: æ‰“åŒ…å¤±è´¥æ€ä¹ˆåŠ?
```bash
# 1. æ¸…ç†é¡¹ç›®
cd android && ./gradlew clean

# 2. åˆ é™¤å¹¶é‡æ–°å®‰è£…ä¾èµ–
rm -rf node_modules && npm install

# 3. æ¸…ç†ç¼“å­˜
npm start -- --reset-cache
```

### Q: APK å®‰è£…åæ— æ³•è¿æ¥æœåŠ¡å™¨?
- æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ: `http://47.114.96.56:9432`
- ç¡®è®¤æ‰‹æœºèƒ½è®¿é—®è¯¥åœ°å€
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### Q: ç­¾åå¯†é’¥ä¸¢å¤±äº†æ€ä¹ˆåŠ?
- å¦‚æœæ˜¯æµ‹è¯•ç‰ˆæœ¬,å¯ä»¥é‡æ–°ç”Ÿæˆå¯†é’¥
- **æ­£å¼å‘å¸ƒåå¯†é’¥ä¸¢å¤±å°†æ— æ³•æ›´æ–°åº”ç”¨**
- åŠ¡å¿…å¤‡ä»½å¯†é’¥æ–‡ä»¶åˆ°å®‰å…¨ä½ç½®!

### Q: å¦‚ä½•æŸ¥çœ‹æ—¥å¿—?
```bash
# è¿æ¥æ‰‹æœºåæŸ¥çœ‹æ—¥å¿—
adb logcat | grep -i "ledger"
```

---

## ğŸ“ å‘å¸ƒæ¸…å•

å‘å¸ƒå‰æ£€æŸ¥:

- [ ] âœ… å·²ç”Ÿæˆç­¾åå¯†é’¥
- [ ] âœ… å·²é…ç½® gradle.properties
- [ ] âœ… å·²æ›´æ–°ç‰ˆæœ¬å·
- [ ] âœ… API åœ°å€é…ç½®æ­£ç¡®
- [ ] âœ… åœ¨çœŸæœºä¸Šæµ‹è¯•é€šè¿‡
- [ ] âœ… å‡†å¤‡å‘å¸ƒè¯´æ˜
- [ ] âœ… å‡†å¤‡åˆ†å‘æ¸ é“

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜,è¯·è”ç³»å¼€å‘å›¢é˜Ÿæˆ–æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£:
- ğŸ“– [å®Œæ•´æ‰“åŒ…æŒ‡å—](./ANDROID_BUILD_GUIDE.md)

---

**ç¥å‘å¸ƒé¡ºåˆ©! ğŸ‰**
