# LedgerAIClient

LedgerAIClient æ˜¯ä¸€ä¸ªåŸºäº React Native å¼€å‘çš„æ™ºèƒ½è®°è´¦åŠ©æ‰‹ç§»åŠ¨ç«¯åº”ç”¨ã€‚å®ƒä¸ä»…æä¾›äº†å®Œå–„çš„ä¼ ç»Ÿè®°è´¦åŠŸèƒ½ï¼Œæ›´å†…ç½®äº†åŸºäº LLM çš„é«˜çº§ AI Agentï¼Œèƒ½å¤Ÿé€šè¿‡è‡ªç„¶è¯­è¨€äº¤äº’å®Œæˆå¤æ‚çš„è´¢åŠ¡ç®¡ç†ä»»åŠ¡ã€‚

> ğŸ“¸ **[æ­¤å¤„éœ€è¡¥å……åº”ç”¨é¦–é¡µæˆªå›¾ï¼šå±•ç¤ºåº”ç”¨å¯åŠ¨åçš„ä¸»ç•Œé¢ï¼Œä½“ç°æ•´ä½“è®¾è®¡é£æ ¼]**

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1. æ™ºèƒ½è´¦æœ¬ç®¡ç†
- **å¤šç»´å±•ç¤º**ï¼šæ”¯æŒæŒ‰å¤©ã€åˆ†ç±»ã€è´¦æˆ·ã€é‡‘é¢åŒºé—´ã€åˆ›å»ºäººç­‰å¤šç§ç»´åº¦åˆ†ç»„æŸ¥çœ‹è´¦å•ã€‚
- **é«˜çº§ç­›é€‰**ï¼šæä¾›æ—¶é—´ã€é‡‘é¢ã€ç±»å‹ç­‰å¤šæ¡ä»¶ç»„åˆç­›é€‰ã€‚
- **çµæ´»æ’åº**ï¼šæ”¯æŒæŒ‰æ—¶é—´ã€é‡‘é¢ç­‰å­—æ®µçš„å‡é™åºæ’åˆ—ã€‚

> ğŸ“¸ **[æ­¤å¤„éœ€è¡¥å……è´¦æœ¬åˆ—è¡¨æˆªå›¾ï¼šå±•ç¤ºæŒ‰ä¸åŒç»´åº¦ï¼ˆå¦‚æŒ‰åˆ†ç±»ã€æŒ‰å¤©ï¼‰åˆ†ç»„çš„è´¦å•åˆ—è¡¨æ•ˆæœ]**

### 2. æ•°æ®æŠ¥è¡¨ä¸åˆ†æ
- **å¯è§†åŒ–å›¾è¡¨**ï¼šå†…ç½®é¥¼å›¾ã€æŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ï¼Œç›´è§‚å±•ç¤ºæ”¶æ”¯æ„æˆä¸è¶‹åŠ¿ã€‚
- **å¤šç»´åˆ†æ**ï¼šæ”¯æŒä»åˆ†ç±»ã€è¶‹åŠ¿ã€ç»´åº¦ï¼ˆè´¦æˆ·/è´¦æœ¬ï¼‰ç­‰ä¸åŒè§†è§’æ·±åº¦åˆ†æè´¢åŠ¡çŠ¶å†µã€‚

> ğŸ“¸ **[æ­¤å¤„éœ€è¡¥å……æŠ¥è¡¨é¡µé¢æˆªå›¾ï¼šå±•ç¤ºé¥¼å›¾æˆ–æŠ˜çº¿å›¾ï¼Œä½“ç°æ•°æ®å¯è§†åŒ–åˆ†æåŠŸèƒ½]**

### 3. åä½œä¸ç®¡ç†
- **å¤šäººè®°è´¦**ï¼šæ”¯æŒç”Ÿæˆé‚€è¯·ç é‚€è¯·æˆå‘˜åŠ å…¥è´¦æœ¬ï¼Œè®¾ç½®ä¸åŒæƒé™ï¼ˆå¦‚ç¼–è¾‘è€…ï¼‰ã€‚
- **æ•°æ®å¯¼å‡º**ï¼šæ”¯æŒå°†äº¤æ˜“è®°å½•ã€åˆ†ç±»ã€æ”¯ä»˜æ–¹å¼ç­‰å¯¼å‡ºä¸º JSONã€CSVã€Excel æ ¼å¼ï¼Œä¾¿äºäºŒæ¬¡åˆ†æã€‚
- **ä¸ªäººä¸­å¿ƒ**ï¼šå®Œå–„çš„ç”¨æˆ·èµ„æ–™ç®¡ç†ä¸è´¦æœ¬åˆ‡æ¢åŠŸèƒ½ã€‚

> ğŸ“¸ **[æ­¤å¤„éœ€è¡¥å……åä½œ/å¯¼å‡ºé¡µé¢æˆªå›¾ï¼šå±•ç¤ºé‚€è¯·ç ç”Ÿæˆæˆ–æ•°æ®å¯¼å‡ºé€‰é¡¹ç•Œé¢]**

---

## ğŸ¤– AI Agent ç³»ç»Ÿ (æŠ€æœ¯è¯¦è§£)

æœ¬é¡¹ç›®å†…ç½®äº†ä¸€ä¸ªé«˜åº¦å®šåˆ¶åŒ–çš„ **Stateful Agent**ï¼ŒåŒºåˆ«äºç®€å•çš„èŠå¤©æœºå™¨äººï¼Œå®ƒæ˜¯ä¸€ä¸ªå…·å¤‡è§„åˆ’ã€æ‰§è¡Œã€åæ€èƒ½åŠ›çš„è‡ªä¸»æ™ºèƒ½ä½“ã€‚

> ğŸ“¸ **[æ­¤å¤„éœ€è¡¥å…… Agent æ¶æ„å›¾ï¼šå±•ç¤º User -> Intent Rewriter -> Planner -> Stateful Agent -> Tools -> Reflector çš„æ•´ä½“æ•°æ®æµå‘]**

### æ¶æ„è®¾è®¡

Agent ç³»ç»Ÿé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶ï¼š

1.  **Stateful Agent (çŠ¶æ€æœºé©±åŠ¨)**
    -   åŸºäºçŠ¶æ€æœºç®¡ç†å¯¹è¯ç”Ÿå‘½å‘¨æœŸï¼Œç²¾ç¡®æ§åˆ¶ Thinking, Tool Call, Confirmation, Reflection ç­‰çŠ¶æ€æµè½¬ã€‚
    -   æ”¯æŒæµå¼è¾“å‡ºä¸å¤šæ¨¡æ€äº¤äº’ã€‚
    
    > ğŸ“¸ **[æ­¤å¤„éœ€è¡¥å…… Agent å¯¹è¯ç•Œé¢æˆªå›¾ï¼šå±•ç¤ºç”¨æˆ·ä¸ Agent çš„è‡ªç„¶è¯­è¨€äº¤äº’è¿‡ç¨‹]**

2.  **Planner (åŠ¨æ€è§„åˆ’å™¨)**
    -   **LLM é©±åŠ¨è§„åˆ’**ï¼šä¸ä¾èµ–ç¡¬ç¼–ç æ¨¡æ¿ï¼Œç”± LLM åˆ†æç”¨æˆ·æ„å›¾ç”Ÿæˆç»“æ„åŒ–çš„ `ExecutionPlan`ã€‚
    -   **åŠ¨æ€è°ƒæ•´**ï¼šæ”¯æŒåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ ¹æ®æ­¥éª¤ç»“æœåŠ¨æ€è°ƒæ•´åç»­è®¡åˆ’ï¼ˆRe-planningï¼‰ã€‚
    -   **å¤æ‚ä»»åŠ¡æ‹†è§£**ï¼šå°†æ¨¡ç³Šçš„è‡ªç„¶è¯­è¨€æŒ‡ä»¤æ‹†è§£ä¸ºå¯æ‰§è¡Œçš„åŸå­æ­¥éª¤åºåˆ—ã€‚

    > ğŸ“¸ **[æ­¤å¤„éœ€è¡¥å…… Planner å·¥ä½œç¤ºæ„å›¾æˆ–æ—¥å¿—æˆªå›¾ï¼šå±•ç¤ºå¤æ‚ä»»åŠ¡è¢«æ‹†è§£ä¸º Step 1, Step 2... çš„è¿‡ç¨‹]**

3.  **Reflector (ReAct åæ€å™¨)**
    -   å®ç°äº† **ReAct (Reasoning + Acting)** æ¨¡å¼çš„æ ¸å¿ƒé—­ç¯ã€‚
    -   **è‡ªæˆ‘è¯„ä¼°**ï¼šåœ¨æ¯ä¸€æ­¥æ‰§è¡Œåï¼Œç‹¬ç«‹çš„åæ€æ¨¡å‹ä¼šè¯„ä¼°æ‰§è¡Œç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸã€‚
    -   **è‡ªåŠ¨çº é”™**ï¼šå¦‚æœå·¥å…·è°ƒç”¨å¤±è´¥æˆ–ç»“æœå¼‚å¸¸ï¼ŒReflector ä¼šç”Ÿæˆä¿®æ­£å»ºè®®ï¼ˆCorrection Hintï¼‰æŒ‡å¯¼ä¸‹ä¸€æ­¥æ‰§è¡Œã€‚

4.  **Intent Rewriter (æ„å›¾é¢„å¤„ç†)**
    -   **ç»“æ„åŒ–æå–**ï¼šå°†å£è¯­åŒ–è¾“å…¥è½¬åŒ–ä¸ºç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚å°†"ä¸Šå‘¨"è½¬åŒ–ä¸ºå…·ä½“çš„ `YYYY-MM-DD` æ—¥æœŸèŒƒå›´ï¼‰ã€‚
    -   **é£é™©è¯„ä¼°**ï¼šè‡ªåŠ¨è¯†åˆ«æ“ä½œé£é™©ç­‰çº§ï¼ˆLow/Medium/High/Criticalï¼‰ï¼Œå¯¹é«˜é£é™©æ“ä½œï¼ˆå¦‚æ‰¹é‡åˆ é™¤ï¼‰å¼ºåˆ¶è§¦å‘ç¡®è®¤æµç¨‹ã€‚
    -   **ä¿¡æ¯è¡¥å…¨**ï¼šå½“å…³é”®ä¿¡æ¯ç¼ºå¤±æ—¶ï¼ˆå¦‚è®°è´¦ç¼ºå°‘é‡‘é¢ï¼‰ï¼Œè‡ªåŠ¨ç”Ÿæˆæ¾„æ¸…é—®é¢˜ï¼ˆClarify Questionï¼‰åé—®ç”¨æˆ·ã€‚

### å…³é”®ç‰¹æ€§

-   **Context-Aware (ä¸Šä¸‹æ–‡æ„ŸçŸ¥)**ï¼šè¿è¡Œæ—¶åŠ¨æ€æ³¨å…¥ç”¨æˆ·ç”»åƒã€å½“å‰è´¦æœ¬çŠ¶æ€ã€åˆ†ç±»ä½“ç³»ç­‰ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œç¡®ä¿ Agent "æ‡‚" ä½ çš„è´¢åŠ¡çŠ¶å†µã€‚
-   **Human-in-the-Loop (äººæœºååŒ)**ï¼šå¯¹äºæ•æ„Ÿæ“ä½œï¼ˆå¦‚åˆ é™¤ã€å¤§é¢ä¿®æ”¹ï¼‰ï¼Œå†…ç½®ç¡®è®¤æœºåˆ¶ï¼Œç¡®ä¿å®‰å…¨ã€‚
    
    > ğŸ“¸ **[æ­¤å¤„éœ€è¡¥å……ç¡®è®¤å¼¹çª—æˆªå›¾ï¼šå±•ç¤º Agent åœ¨æ‰§è¡Œé«˜é£é™©æ“ä½œå‰è¯·æ±‚ç”¨æˆ·ç¡®è®¤çš„ç•Œé¢]**

-   **Extensible Tool System (æ‰©å±•å·¥å…·é›†)**ï¼š
    -   **Domain Tools**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å°è£…ã€‚
    -   **Render Tools**: æ§åˆ¶å®¢æˆ·ç«¯ UI æ¸²æŸ“ï¼Œæ”¯æŒå¯Œæ–‡æœ¬ä¸ç»„ä»¶äº¤äº’ã€‚
    -   **Memory Tools**: è®°å¿†ç”¨æˆ·åå¥½ã€‚

---

## ğŸ›  æŠ€æœ¯æ ˆ

-   **æ ¸å¿ƒæ¡†æ¶**: React Native 0.82+, TypeScript
-   **AI æ¡†æ¶**: LangChain.js (@langchain/core, @langchain/openai)
-   **å¯¼èˆª**: React Navigation 7
-   **UI ç»„ä»¶**: React Native Reanimated, Vector Icons, SVG
-   **å›¾è¡¨**: React Native Chart Kit
-   **ç½‘ç»œ**: Axios, StompJS (WebSocket)

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# å®‰è£…ä¾èµ–
npm install

# iOS è¿è¡Œ
npm run ios

# Android è¿è¡Œ
npm run android
```
